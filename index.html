<div id="settingsOverlay" class="settings-overlay">
  <div class="settings-sheet">
    <div class="sheet-header">
      <div class="sheet-title">Settings</div>
    </div>

    <div class="tab-group">
      <button class="tab-btn active">General</button>
      <button class="tab-btn">Guide</button>
    </div>

    <div class="menu-section active">
      <div class="list-group">
        <div class="list-item">
          <span>Reference Number</span>
          <input type="number" id="refInput" class="clean-input" placeholder="0">
        </div>
        <div class="list-item">
          <span>Code Length</span>
          <input type="number" id="lenInput" class="clean-input" placeholder="6">
        </div>
        <div class="list-item">
          <span>Forced Errors</span>
          <div style="display:flex; align-items:center; gap:10px;">
            <button class="stepper-btn" id="decErrors">−</button>
            <span id="errorCountDisplay" style="width:20px; text-align:center;">0</span>
            <button class="stepper-btn" id="incErrors">+</button>
          </div>
        </div>
      </div>

      <div class="list-group">
        <div class="list-item">
          <span>Notes Mode</span>
          <label class="toggle-switch">
            <input type="checkbox" id="notesToggle">
            <span class="slider"></span>
          </label>
        </div>
        
        <div class="list-item" id="nameInputRow" style="display:none;">
          <span>Spectator Name</span>
          <input type="text" id="spectatorName" class="clean-input" placeholder="Name">
        </div>
        
        <div class="list-item" id="notesUploadRow" style="display:none;">
          <span>Notes Background</span>
          <button class="upload-btn" id="btnUploadNotes">Upload</button>
        </div>

        <div class="list-item">
          <span>Ghost Lock</span>
          <label class="toggle-switch">
            <input type="checkbox" id="ghostToggle">
            <span class="slider"></span>
          </label>
        </div>
      </div>
      
      <div class="credits-sub">Magical Lockscreen OS v2.0</div>
    </div>

    <div class="menu-section">
      <div class="list-group">
        <div class="guide-text">
          <div class="guide-row">
            <strong>The Main Effect</strong>
            <span>Set a <em>Reference Number</em> above (e.g. 4050). The spectator enters their number (e.g. 4058). The app subtracts the Reference from their Input (4058 - 4050 = 8). The result "8" is revealed as the "Phone Password" upon unlocking.</span>
          </div>
          <div class="guide-row">
            <strong>Notes Mode</strong>
            <span>Instead of a number, the phone unlocks to a specific Note. This reveals the Spectator's Name and their Zodiac Sign (if enabled via errors).</span>
          </div>
          <div class="guide-row">
            <strong>Ghost Lock</strong>
            <span>Allows you to tap <em>anywhere</em> on the screen to simulate dots. Tap background for fake dots; tap a specific Key for the final dot to unlock.</span>
          </div>
          <div class="guide-row">
            <strong>Gestures</strong>
            <span>
              • 2-Finger Swipe Down: Open Settings<br>
              • Double Tap Top Left/Right: Upload Wallpapers<br>
              • Tap Bottom Center (3x): Re-Lock Phone
            </span>
          </div>
        </div>
      </div>
    </div>

    <button id="closeSettingsBtn" class="close-action">Done</button>
  </div>
</div>
